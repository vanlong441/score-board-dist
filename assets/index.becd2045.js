import{S as x,i as ee,s as te,e as m,a as b,b as _,t as F,c as j,d as u,l as y,p as ce,f as D,n as P,g as fe,h as Ne,j as S,k as W,m as Se,o as H,q as We,r as J,u as Ae,v as Q,w as de,x as _e,y as je,z as De,A as pe,B as me,C as Ee,D as ge}from"./vendor.1f6ce2f7.js";const Oe=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const t of r)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const t={};return r.integrity&&(t.integrity=r.integrity),r.referrerpolicy&&(t.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?t.credentials="include":r.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(r){if(r.ep)return;r.ep=!0;const t=n(r);fetch(r.href,t)}};Oe();function ve(l,e,n){const o=l.slice();return o[3]=e[n],o[4]=e,o[5]=n,o}function Te(l){let e=l[3].value+"",n;return{c(){n=S(e)},m(o,r){j(o,n,r)},p(o,r){r&1&&e!==(e=o[3].value+"")&&W(n,e)},d(o){o&&D(n)}}}function Ce(l){let e=[l[3].value.slice(0,l[0].leadingLetter),...l[3].value.slice(l[0].leadingLetter,99).split("").map(be)].join("")+"",n;return{c(){n=S(e)},m(o,r){j(o,n,r)},p(o,r){r&1&&e!==(e=[o[3].value.slice(0,o[0].leadingLetter),...o[3].value.slice(o[0].leadingLetter,99).split("").map(be)].join("")+"")&&W(n,e)},d(o){o&&D(n)}}}function he(l){let e,n,o,r;function t(d,p){return d[3].blank===!0&&d[3].correct===null?Ce:Te}let s=t(l),i=s(l);function a(){return l[2](l[3],l[4],l[5])}return{c(){e=m("div"),i.c(),n=b(),_(e,"class","word"),F(e,"current",l[5]===l[0].word_index),F(e,"wrong",l[3].correct===!1),F(e,"correct",l[3].correct===!0)},m(d,p){j(d,e,p),i.m(e,null),u(e,n),o||(r=y(e,"contextmenu",ce(a)),o=!0)},p(d,p){l=d,s===(s=t(l))&&i?i.p(l,p):(i.d(1),i=s(l),i&&(i.c(),i.m(e,n))),p&1&&F(e,"current",l[5]===l[0].word_index),p&1&&F(e,"wrong",l[3].correct===!1),p&1&&F(e,"correct",l[3].correct===!0)},d(d){d&&D(e),i.d(),o=!1,r()}}}function qe(l){let e,n,o,r=l[0].words,t=[];for(let s=0;s<r.length;s+=1)t[s]=he(ve(l,r,s));return{c(){e=m("div");for(let s=0;s<t.length;s+=1)t[s].c();_(e,"class","text svelte-1h04sl4")},m(s,i){j(s,e,i);for(let a=0;a<t.length;a+=1)t[a].m(e,null);n||(o=y(e,"contextmenu",ce(l[1])),n=!0)},p(s,[i]){if(i&1){r=s[0].words;let a;for(a=0;a<r.length;a+=1){const d=ve(s,r,a);t[a]?t[a].p(d,i):(t[a]=he(d),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=r.length}},i:P,o:P,d(s){s&&D(e),fe(t,s),n=!1,o()}}}const be=l=>"_";function Fe(l,e,n){let{state:o}=e;function r(s){Ne.call(this,l,s)}const t=(s,i,a)=>n(0,i[a].blank=!s.blank,o);return l.$$set=s=>{"state"in s&&n(0,o=s.state)},[o,r,t]}class Ke extends x{constructor(e){super();ee(this,e,Fe,qe,te,{state:0})}}function ke(l,e,n){const o=l.slice();return o[14]=e[n],o[16]=n,o}function Pe(l){let e,n,o;function r(s){l[10](s)}let t={};return l[0]!==void 0&&(t.state=l[0]),e=new Ke({props:t}),je.push(()=>De(e,"state",r)),{c(){pe(e.$$.fragment)},m(s,i){me(e,s,i),o=!0},p(s,i){const a={};!n&&i&1&&(n=!0,a.state=s[0],Ee(()=>n=!1)),e.$set(a)},i(s){o||(Q(e.$$.fragment,s),o=!0)},o(s){J(e.$$.fragment,s),o=!1},d(s){ge(e,s)}}}function Be(l){let e,n,o;return{c(){e=m("textarea"),_(e,"id","textarea"),_(e,"cols","30"),_(e,"rows","10"),_(e,"class","svelte-12tuyl1")},m(r,t){j(r,e,t),H(e,l[0].text),n||(o=[y(e,"keyup",l[3]),y(e,"input",l[9])],n=!0)},p(r,t){t&1&&H(e,r[0].text)},i:P,o:P,d(r){r&&D(e),n=!1,_e(o)}}}function we(l){let e,n=l[0].problematicWords.sort(Le),o=[];for(let r=0;r<n.length;r+=1)o[r]=ye(ke(l,n,r));return{c(){for(let r=0;r<o.length;r+=1)o[r].c();e=Se()},m(r,t){for(let s=0;s<o.length;s+=1)o[s].m(r,t);j(r,e,t)},p(r,t){if(t&257){n=r[0].problematicWords.sort(Le);let s;for(s=0;s<n.length;s+=1){const i=ke(r,n,s);o[s]?o[s].p(i,t):(o[s]=ye(i),o[s].c(),o[s].m(e.parentNode,e))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(r){fe(o,r),r&&D(e)}}}function ye(l){let e,n=l[14].value+"",o,r,t,s=l[14].mistake+"",i,a,d,p;function L(){return l[12](l[14])}return{c(){e=m("div"),o=S(n),r=b(),t=m("div"),i=S(s),a=b(),_(t,"class","mistake svelte-12tuyl1"),_(e,"class","word svelte-12tuyl1")},m(k,N){j(k,e,N),u(e,o),u(e,r),u(e,t),u(t,i),u(e,a),d||(p=y(e,"click",L),d=!0)},p(k,N){l=k,N&1&&n!==(n=l[14].value+"")&&W(o,n),N&1&&s!==(s=l[14].mistake+"")&&W(i,s)},d(k){k&&D(e),d=!1,p()}}}function Ie(l){let e,n,o=(l[0].editting?"Done":"Edit")+"",r,t,s,i,a,d,p,L,k=(l[0].showNote?"\u{1F441}\uFE0F":"\u{1F576}\uFE0F")+"",N,B,I,E,c,g,A,le,K,ne,T,C,R,re,M,U=(l[0].isSad?"\u{1F622}":"")+"",V,oe,q,X,se,z,G=(l[0].isSad?"":"\u{1F603}")+"",Y,w,Z,ie;const ae=[Be,Pe],O=[];function ue(f,h){return f[0].editting===!0?0:1}i=ue(l),a=O[i]=ae[i](l);let v=l[0].showNote&&we(l);return{c(){e=m("div"),n=m("button"),r=S(o),s=b(),a.c(),d=b(),p=m("div"),L=m("div"),N=S(k),B=b(),v&&v.c(),I=b(),E=m("div"),c=m("div"),c.textContent="\u{1F4E4}",g=b(),A=m("input"),le=b(),K=m("button"),K.textContent="Again",ne=b(),T=m("div"),C=m("div"),R=S(l[2]),re=b(),M=m("div"),V=S(U),oe=b(),q=m("div"),X=S(l[1]),se=b(),z=m("div"),Y=S(G),n.disabled=t=!l[0].text.length,_(L,"class","icon"),_(p,"class","level-2 svelte-12tuyl1"),_(c,"class","icon"),_(A,"type","number"),_(E,"class","level-2 svelte-12tuyl1"),_(K,"class","again"),_(M,"class","emoji svelte-12tuyl1"),_(C,"class","block wrong svelte-12tuyl1"),_(z,"class","emoji svelte-12tuyl1"),_(q,"class","block correct svelte-12tuyl1"),_(T,"class","board svelte-12tuyl1"),_(e,"class","level-1 svelte-12tuyl1")},m(f,h){j(f,e,h),u(e,n),u(n,r),u(e,s),O[i].m(e,null),u(e,d),u(e,p),u(p,L),u(L,N),u(p,B),v&&v.m(p,null),u(e,I),u(e,E),u(E,c),u(E,g),u(E,A),H(A,l[0].leadingLetter),u(e,le),u(e,K),u(e,ne),u(e,T),u(T,C),u(C,R),u(C,re),u(C,M),u(M,V),u(T,oe),u(T,q),u(q,X),u(q,se),u(q,z),u(z,Y),w=!0,Z||(ie=[y(window,"keyup",l[4]),y(n,"click",l[5]),y(L,"click",l[11]),y(c,"click",l[7]),y(A,"input",l[13]),y(K,"click",l[6])],Z=!0)},p(f,[h]){(!w||h&1)&&o!==(o=(f[0].editting?"Done":"Edit")+"")&&W(r,o),(!w||h&1&&t!==(t=!f[0].text.length))&&(n.disabled=t);let $=i;i=ue(f),i===$?O[i].p(f,h):(We(),J(O[$],1,1,()=>{O[$]=null}),Ae(),a=O[i],a?a.p(f,h):(a=O[i]=ae[i](f),a.c()),Q(a,1),a.m(e,d)),(!w||h&1)&&k!==(k=(f[0].showNote?"\u{1F441}\uFE0F":"\u{1F576}\uFE0F")+"")&&W(N,k),f[0].showNote?v?v.p(f,h):(v=we(f),v.c(),v.m(p,null)):v&&(v.d(1),v=null),h&1&&de(A.value)!==f[0].leadingLetter&&H(A,f[0].leadingLetter),(!w||h&4)&&W(R,f[2]),(!w||h&1)&&U!==(U=(f[0].isSad?"\u{1F622}":"")+"")&&W(V,U),(!w||h&2)&&W(X,f[1]),(!w||h&1)&&G!==(G=(f[0].isSad?"":"\u{1F603}")+"")&&W(Y,G)},i(f){w||(Q(a),w=!0)},o(f){J(a),w=!1},d(f){f&&D(e),O[i].d(),v&&v.d(),Z=!1,_e(ie)}}}const Le=(l,e)=>e.mistake-l.mistake;function Me(l,e,n){let o,r,t={text:"",words:[],problematicWords:[],editting:!0,showNote:!0,word_index:0,isSad:!1,leadingLetter:0};function s(){n(0,t.words=t.text.replace(/\r?\n/g," ").split(" ").map(c=>({value:c,correct:null,blank:!1,mistake:0})),t)}function i(c){if(c.target.id!=="textarea"&&t.words.length>t.word_index){let g=t.words[t.word_index];c.key==="F2"&&(g.correct=!0,n(0,t.word_index+=1,t),n(0,t.isSad=!1,t),c.preventDefault()),c.key==="F4"&&(t.problematicWords.find(A=>A.value===g.value)||n(0,t.problematicWords=[...t.problematicWords,g],t),g.mistake+=1,g.correct=!1,n(0,t.word_index+=1,t),n(0,t.isSad=!0,t),c.preventDefault())}}function a(){n(0,t.editting=!t.editting,t)}function d(){n(0,t.words=t.words.map(c=>({correct:null,value:c.value})),t),n(0,t.word_index=0,t)}function p(){for(let c of t.words)t.problematicWords.some(g=>g.value===c.value)&&(c.blank=!c.blank);n(0,t)}function L(c){for(let g of t.words)c.value===g.value&&(g.blank=!g.blank);n(0,t)}function k(){t.text=this.value,n(0,t)}function N(c){t=c,n(0,t)}const B=()=>n(0,t.showNote=!t.showNote,t),I=c=>L(c);function E(){t.leadingLetter=de(this.value),n(0,t)}return l.$$.update=()=>{l.$$.dirty&1&&n(2,o=t.words.filter(c=>c.correct===!1).length),l.$$.dirty&1&&n(1,r=t.words.filter(c=>c.correct===!0).length)},[t,r,o,s,i,a,d,p,L,k,N,B,I,E]}class Ue extends x{constructor(e){super();ee(this,e,Me,Ie,te,{})}}function ze(l){let e,n,o;return n=new Ue({}),{c(){e=m("div"),pe(n.$$.fragment),_(e,"class","wrapper svelte-n26dnx")},m(r,t){j(r,e,t),me(n,e,null),o=!0},p:P,i(r){o||(Q(n.$$.fragment,r),o=!0)},o(r){J(n.$$.fragment,r),o=!1},d(r){r&&D(e),ge(n)}}}class Ge extends x{constructor(e){super();ee(this,e,null,ze,te,{})}}new Ge({target:document.getElementById("app")});
