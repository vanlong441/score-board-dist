var De=Object.defineProperty,Oe=Object.defineProperties;var Pe=Object.getOwnPropertyDescriptors;var pe=Object.getOwnPropertySymbols;var qe=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable;var me=(t,e,l)=>e in t?De(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l,ge=(t,e)=>{for(var l in e||(e={}))qe.call(e,l)&&me(t,l,e[l]);if(pe)for(var l of pe(e))Be.call(e,l)&&me(t,l,e[l]);return t},ve=(t,e)=>Oe(t,Pe(e));import{S as J,i as Q,s as R,e as m,t as z,a as b,b as p,c as W,d as u,l as L,f as A,g as j,r as le,h as Fe,n as P,j as he,k as K,p as be,m as Ie,o as ne,q as re,u as ke,v as D,w as q,x as se,y as X,z as we,A as ye,B as ze,C as Le,D as Ne}from"./vendor.f4c2851b.js";const Ke=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function l(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=l(r);fetch(r.href,n)}};Ke();function Se(t,e,l){const o=t.slice();return o[6]=e[l],o[8]=l,o}function Ae(t){let e,l,o=t[6].value+"",r,n,s,i,a=t[6].count+"",c,d,k,v,w,E,O;function f(){return t[4](t[6])}function N(){return t[5](t[6])}return{c(){e=m("div"),l=m("div"),r=z(o),n=b(),s=m("div"),i=z("("),c=z(a),d=z(")"),k=b(),v=m("div"),v.textContent="x",w=b(),p(s,"class","mistake svelte-12schfz"),p(l,"class","value svelte-12schfz"),p(v,"class","float-icon svelte-12schfz"),p(e,"class","word svelte-12schfz")},m(T,y){W(T,e,y),u(e,l),u(l,r),u(l,n),u(l,s),u(s,i),u(s,c),u(s,d),u(e,k),u(e,v),u(e,w),E||(O=[L(l,"click",f),L(v,"click",N)],E=!0)},p(T,y){t=T,y&1&&o!==(o=t[6].value+"")&&A(r,o),y&1&&a!==(a=t[6].count+"")&&A(c,a)},d(T){T&&j(e),E=!1,le(O)}}}function Me(t){let e,l=t[0].sort(We),o=[];for(let r=0;r<l.length;r+=1)o[r]=Ae(Se(t,l,r));return{c(){for(let r=0;r<o.length;r+=1)o[r].c();e=Fe()},m(r,n){for(let s=0;s<o.length;s+=1)o[s].m(r,n);W(r,e,n)},p(r,[n]){if(n&7){l=r[0].sort(We);let s;for(s=0;s<l.length;s+=1){const i=Se(r,l,s);o[s]?o[s].p(i,n):(o[s]=Ae(i),o[s].c(),o[s].m(e.parentNode,e))}for(;s<o.length;s+=1)o[s].d(1);o.length=l.length}},i:P,o:P,d(r){he(o,r),r&&j(e)}}}function Ue(t){return t.replace(/[.,!?]/g,"")}const We=(t,e)=>e.count-t.count;function Ve(t,e,l){let o,{state:r}=e;function n(c){for(let d of r.words)d.value.startsWith(c.value)&&(d.blank=!d.blank);l(3,r)}function s(c){r.words.forEach(d=>{d.value.startsWith(c.value)&&(d.mistake=0)}),l(3,r),console.log(r.words)}const i=c=>n(c),a=c=>s(c);return t.$$set=c=>{"state"in c&&l(3,r=c.state)},t.$$.update=()=>{t.$$.dirty&8&&l(0,o=r.words.filter(c=>c.mistake>0).reduce((c,d)=>{let k=Ue(d.value),v=c.find(w=>w.value===k);if(v)v.count+=1;else{let w={count:1,value:k};c.push(w)}return c},[]))},[o,n,s,r,i,a]}class Ge extends J{constructor(e){super();Q(this,e,Ve,Me,R,{state:3})}}function je(t,e,l){const o=t.slice();return o[3]=e[l],o[4]=e,o[5]=l,o}function He(t){let e=t[3].value+"",l;return{c(){l=z(e)},m(o,r){W(o,l,r)},p(o,r){r&1&&e!==(e=o[3].value+"")&&A(l,e)},d(o){o&&j(l)}}}function Je(t){let e=[t[3].value.slice(0,t[0].leadingLetter),...t[3].value.slice(t[0].leadingLetter,99).split("").map(Te)].join("")+"",l;return{c(){l=z(e)},m(o,r){W(o,l,r)},p(o,r){r&1&&e!==(e=[o[3].value.slice(0,o[0].leadingLetter),...o[3].value.slice(o[0].leadingLetter,99).split("").map(Te)].join("")+"")&&A(l,e)},d(o){o&&j(l)}}}function Ee(t){let e,l,o,r;function n(c,d){return c[3].blank===!0&&c[3].correct===null?Je:He}let s=n(t),i=s(t);function a(){return t[2](t[3],t[4],t[5])}return{c(){e=m("div"),i.c(),l=b(),p(e,"class","word"),K(e,"current",t[5]===t[0].word_index),K(e,"wrong",t[3].correct===!1),K(e,"correct",t[3].correct===!0)},m(c,d){W(c,e,d),i.m(e,null),u(e,l),o||(r=L(e,"contextmenu",be(a)),o=!0)},p(c,d){t=c,s===(s=n(t))&&i?i.p(t,d):(i.d(1),i=s(t),i&&(i.c(),i.m(e,l))),d&1&&K(e,"current",t[5]===t[0].word_index),d&1&&K(e,"wrong",t[3].correct===!1),d&1&&K(e,"correct",t[3].correct===!0)},d(c){c&&j(e),i.d(),o=!1,r()}}}function Qe(t){let e,l,o,r=t[0].words,n=[];for(let s=0;s<r.length;s+=1)n[s]=Ee(je(t,r,s));return{c(){e=m("div");for(let s=0;s<n.length;s+=1)n[s].c();p(e,"class","text svelte-1h04sl4")},m(s,i){W(s,e,i);for(let a=0;a<n.length;a+=1)n[a].m(e,null);l||(o=L(e,"contextmenu",be(t[1])),l=!0)},p(s,[i]){if(i&1){r=s[0].words;let a;for(a=0;a<r.length;a+=1){const c=je(s,r,a);n[a]?n[a].p(c,i):(n[a]=Ee(c),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=r.length}},i:P,o:P,d(s){s&&j(e),he(n,s),l=!1,o()}}}const Te=t=>"_";function Re(t,e,l){let{state:o}=e;function r(s){Ie.call(this,t,s)}const n=(s,i,a)=>l(0,i[a].blank=!s.blank,o);return t.$$set=s=>{"state"in s&&l(0,o=s.state)},[o,r,n]}class Xe extends J{constructor(e){super();Q(this,e,Re,Qe,R,{state:0})}}function Ye(t){let e,l,o;function r(s){t[9](s)}let n={};return t[0]!==void 0&&(n.state=t[0]),e=new Xe({props:n}),Le.push(()=>Ne(e,"state",r)),{c(){ne(e.$$.fragment)},m(s,i){re(e,s,i),o=!0},p(s,i){const a={};!l&&i&1&&(l=!0,a.state=s[0],ke(()=>l=!1)),e.$set(a)},i(s){o||(D(e.$$.fragment,s),o=!0)},o(s){q(e.$$.fragment,s),o=!1},d(s){se(e,s)}}}function Ze(t){let e,l,o;return{c(){e=m("textarea"),p(e,"id","textarea"),p(e,"cols","30"),p(e,"rows","10"),p(e,"class","svelte-o0lynz")},m(r,n){W(r,e,n),X(e,t[0].text),l||(o=[L(e,"keyup",t[3]),L(e,"input",t[8])],l=!0)},p(r,n){n&1&&X(e,r[0].text)},i:P,o:P,d(r){r&&j(e),l=!1,le(o)}}}function Ce(t){let e,l,o;function r(s){t[11](s)}let n={};return t[0]!==void 0&&(n.state=t[0]),e=new Ge({props:n}),Le.push(()=>Ne(e,"state",r)),{c(){ne(e.$$.fragment)},m(s,i){re(e,s,i),o=!0},p(s,i){const a={};!l&&i&1&&(l=!0,a.state=s[0],ke(()=>l=!1)),e.$set(a)},i(s){o||(D(e.$$.fragment,s),o=!0)},o(s){q(e.$$.fragment,s),o=!1},d(s){se(e,s)}}}function $e(t){let e,l,o=(t[0].editting?"Done":"Edit")+"",r,n,s,i,a,c,d,k,v=(t[0].showNote?"\u{1F441}\uFE0F":"\u{1F576}\uFE0F")+"",w,E,O,f,N,T,y,oe,M,ie,B,F,Y,ae,U,V=(t[0].isSad?"\u{1F622}":"")+"",Z,ue,I,$,ce,G,H=(t[0].isSad?"":"\u{1F603}")+"",x,S,ee,fe;const de=[Ze,Ye],C=[];function _e(_,h){return _[0].editting===!0?0:1}i=_e(t),a=C[i]=de[i](t);let g=t[0].showNote&&Ce(t);return{c(){e=m("div"),l=m("button"),r=z(o),s=b(),a.c(),c=b(),d=m("div"),k=m("div"),w=z(v),E=b(),g&&g.c(),O=b(),f=m("div"),N=m("div"),N.textContent="\u{1F4E4}",T=b(),y=m("input"),oe=b(),M=m("button"),M.textContent="Again",ie=b(),B=m("div"),F=m("div"),Y=z(t[2]),ae=b(),U=m("div"),Z=z(V),ue=b(),I=m("div"),$=z(t[1]),ce=b(),G=m("div"),x=z(H),l.disabled=n=!t[0].text.length,p(k,"class","icon"),p(d,"class","level-2 svelte-o0lynz"),p(N,"class","icon"),p(y,"type","number"),p(f,"class","level-2 svelte-o0lynz"),p(M,"class","again"),p(U,"class","emoji svelte-o0lynz"),p(F,"class","block wrong svelte-o0lynz"),p(G,"class","emoji svelte-o0lynz"),p(I,"class","block correct svelte-o0lynz"),p(B,"class","board svelte-o0lynz"),p(e,"class","level-1 svelte-o0lynz")},m(_,h){W(_,e,h),u(e,l),u(l,r),u(e,s),C[i].m(e,null),u(e,c),u(e,d),u(d,k),u(k,w),u(d,E),g&&g.m(d,null),u(e,O),u(e,f),u(f,N),u(f,T),u(f,y),X(y,t[0].leadingLetter),u(e,oe),u(e,M),u(e,ie),u(e,B),u(B,F),u(F,Y),u(F,ae),u(F,U),u(U,Z),u(B,ue),u(B,I),u(I,$),u(I,ce),u(I,G),u(G,x),S=!0,ee||(fe=[L(window,"keyup",t[4]),L(l,"click",t[5]),L(k,"click",t[10]),L(N,"click",t[7]),L(y,"input",t[12]),L(M,"click",t[6])],ee=!0)},p(_,[h]){(!S||h&1)&&o!==(o=(_[0].editting?"Done":"Edit")+"")&&A(r,o),(!S||h&1&&n!==(n=!_[0].text.length))&&(l.disabled=n);let te=i;i=_e(_),i===te?C[i].p(_,h):(we(),q(C[te],1,1,()=>{C[te]=null}),ye(),a=C[i],a?a.p(_,h):(a=C[i]=de[i](_),a.c()),D(a,1),a.m(e,c)),(!S||h&1)&&v!==(v=(_[0].showNote?"\u{1F441}\uFE0F":"\u{1F576}\uFE0F")+"")&&A(w,v),_[0].showNote?g?(g.p(_,h),h&1&&D(g,1)):(g=Ce(_),g.c(),D(g,1),g.m(d,null)):g&&(we(),q(g,1,1,()=>{g=null}),ye()),h&1&&ze(y.value)!==_[0].leadingLetter&&X(y,_[0].leadingLetter),(!S||h&4)&&A(Y,_[2]),(!S||h&1)&&V!==(V=(_[0].isSad?"\u{1F622}":"")+"")&&A(Z,V),(!S||h&2)&&A($,_[1]),(!S||h&1)&&H!==(H=(_[0].isSad?"":"\u{1F603}")+"")&&A(x,H)},i(_){S||(D(a),D(g),S=!0)},o(_){q(a),q(g),S=!1},d(_){_&&j(e),C[i].d(),g&&g.d(),ee=!1,le(fe)}}}function xe(t,e,l){let o,r,n={text:"",words:[],problematicWords:[],editting:!0,showNote:!0,word_index:0,isSad:!1,leadingLetter:0};function s(){l(0,n.words=n.text.replace(/\r?\n/g," ").split(" ").filter(Boolean).map(f=>({value:f,correct:null,blank:!1,mistake:0})),n)}function i(f){if(f.target.id!=="textarea"&&n.words.length>n.word_index){let N=n.words[n.word_index];f.key==="F2"&&(N.correct=!0,l(0,n.word_index+=1,n),l(0,n.isSad=!1,n),f.preventDefault()),f.key==="F4"&&(N.mistake+=1,N.correct=!1,l(0,n.word_index+=1,n),l(0,n.isSad=!0,n),f.preventDefault())}}function a(){l(0,n.editting=!n.editting,n)}function c(){l(0,n.words=n.words.map(f=>ve(ge({},f),{correct:null})),n),l(0,n.word_index=0,n)}function d(){for(let f of n.words)f.mistake>0&&(f.blank=!f.blank);l(0,n)}function k(){n.text=this.value,l(0,n)}function v(f){n=f,l(0,n)}const w=()=>l(0,n.showNote=!n.showNote,n);function E(f){n=f,l(0,n)}function O(){n.leadingLetter=ze(this.value),l(0,n)}return t.$$.update=()=>{t.$$.dirty&1&&l(2,o=n.words.filter(f=>f.correct===!1).length),t.$$.dirty&1&&l(1,r=n.words.filter(f=>f.correct===!0).length)},[n,r,o,s,i,a,c,d,k,v,w,E,O]}class et extends J{constructor(e){super();Q(this,e,xe,$e,R,{})}}function tt(t){let e,l,o;return l=new et({}),{c(){e=m("div"),ne(l.$$.fragment),p(e,"class","wrapper svelte-n26dnx")},m(r,n){W(r,e,n),re(l,e,null),o=!0},p:P,i(r){o||(D(l.$$.fragment,r),o=!0)},o(r){q(l.$$.fragment,r),o=!1},d(r){r&&j(e),se(l)}}}class lt extends J{constructor(e){super();Q(this,e,null,tt,R,{})}}new lt({target:document.getElementById("app")});
