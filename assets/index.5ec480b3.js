var je=Object.defineProperty,De=Object.defineProperties;var Ee=Object.getOwnPropertyDescriptors;var ce=Object.getOwnPropertySymbols;var Oe=Object.prototype.hasOwnProperty,Te=Object.prototype.propertyIsEnumerable;var fe=(l,e,n)=>e in l?je(l,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):l[e]=n,de=(l,e)=>{for(var n in e||(e={}))Oe.call(e,n)&&fe(l,n,e[n]);if(ce)for(var n of ce(e))Te.call(e,n)&&fe(l,n,e[n]);return l},_e=(l,e)=>De(l,Ee(e));import{S as x,i as ee,s as te,e as m,a as b,b as _,t as B,c as j,d as u,l as y,p as pe,f as D,n as K,g as me,h as Ce,j as N,k as S,m as qe,o as H,q as Be,r as J,u as Fe,v as Q,w as ve,x as ge,y as Ke,z as Pe,A as he,B as be,C as Ie,D as ke}from"./vendor.1f6ce2f7.js";const Me=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const t of r)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const t={};return r.integrity&&(t.integrity=r.integrity),r.referrerpolicy&&(t.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?t.credentials="include":r.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(r){if(r.ep)return;r.ep=!0;const t=n(r);fetch(r.href,t)}};Me();function we(l,e,n){const o=l.slice();return o[3]=e[n],o[4]=e,o[5]=n,o}function Ue(l){let e=l[3].value+"",n;return{c(){n=N(e)},m(o,r){j(o,n,r)},p(o,r){r&1&&e!==(e=o[3].value+"")&&S(n,e)},d(o){o&&D(n)}}}function ze(l){let e=[l[3].value.slice(0,l[0].leadingLetter),...l[3].value.slice(l[0].leadingLetter,99).split("").map(Le)].join("")+"",n;return{c(){n=N(e)},m(o,r){j(o,n,r)},p(o,r){r&1&&e!==(e=[o[3].value.slice(0,o[0].leadingLetter),...o[3].value.slice(o[0].leadingLetter,99).split("").map(Le)].join("")+"")&&S(n,e)},d(o){o&&D(n)}}}function ye(l){let e,n,o,r;function t(d,p){return d[3].blank===!0&&d[3].correct===null?ze:Ue}let s=t(l),i=s(l);function a(){return l[2](l[3],l[4],l[5])}return{c(){e=m("div"),i.c(),n=b(),_(e,"class","word"),B(e,"current",l[5]===l[0].word_index),B(e,"wrong",l[3].correct===!1),B(e,"correct",l[3].correct===!0)},m(d,p){j(d,e,p),i.m(e,null),u(e,n),o||(r=y(e,"contextmenu",pe(a)),o=!0)},p(d,p){l=d,s===(s=t(l))&&i?i.p(l,p):(i.d(1),i=s(l),i&&(i.c(),i.m(e,n))),p&1&&B(e,"current",l[5]===l[0].word_index),p&1&&B(e,"wrong",l[3].correct===!1),p&1&&B(e,"correct",l[3].correct===!0)},d(d){d&&D(e),i.d(),o=!1,r()}}}function Ge(l){let e,n,o,r=l[0].words,t=[];for(let s=0;s<r.length;s+=1)t[s]=ye(we(l,r,s));return{c(){e=m("div");for(let s=0;s<t.length;s+=1)t[s].c();_(e,"class","text svelte-1h04sl4")},m(s,i){j(s,e,i);for(let a=0;a<t.length;a+=1)t[a].m(e,null);n||(o=y(e,"contextmenu",pe(l[1])),n=!0)},p(s,[i]){if(i&1){r=s[0].words;let a;for(a=0;a<r.length;a+=1){const d=we(s,r,a);t[a]?t[a].p(d,i):(t[a]=ye(d),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=r.length}},i:K,o:K,d(s){s&&D(e),me(t,s),n=!1,o()}}}const Le=l=>"_";function He(l,e,n){let{state:o}=e;function r(s){Ce.call(this,l,s)}const t=(s,i,a)=>n(0,i[a].blank=!s.blank,o);return l.$$set=s=>{"state"in s&&n(0,o=s.state)},[o,r,t]}class Je extends x{constructor(e){super();ee(this,e,He,Ge,te,{state:0})}}function We(l,e,n){const o=l.slice();return o[14]=e[n],o[16]=n,o}function Qe(l){let e,n,o;function r(s){l[10](s)}let t={};return l[0]!==void 0&&(t.state=l[0]),e=new Je({props:t}),Ke.push(()=>Pe(e,"state",r)),{c(){he(e.$$.fragment)},m(s,i){be(e,s,i),o=!0},p(s,i){const a={};!n&&i&1&&(n=!0,a.state=s[0],Ie(()=>n=!1)),e.$set(a)},i(s){o||(Q(e.$$.fragment,s),o=!0)},o(s){J(e.$$.fragment,s),o=!1},d(s){ke(e,s)}}}function Re(l){let e,n,o;return{c(){e=m("textarea"),_(e,"id","textarea"),_(e,"cols","30"),_(e,"rows","10"),_(e,"class","svelte-12tuyl1")},m(r,t){j(r,e,t),H(e,l[0].text),n||(o=[y(e,"keyup",l[3]),y(e,"input",l[9])],n=!0)},p(r,t){t&1&&H(e,r[0].text)},i:K,o:K,d(r){r&&D(e),n=!1,ge(o)}}}function Ne(l){let e,n=l[0].problematicWords.sort(Ae),o=[];for(let r=0;r<n.length;r+=1)o[r]=Se(We(l,n,r));return{c(){for(let r=0;r<o.length;r+=1)o[r].c();e=qe()},m(r,t){for(let s=0;s<o.length;s+=1)o[s].m(r,t);j(r,e,t)},p(r,t){if(t&257){n=r[0].problematicWords.sort(Ae);let s;for(s=0;s<n.length;s+=1){const i=We(r,n,s);o[s]?o[s].p(i,t):(o[s]=Se(i),o[s].c(),o[s].m(e.parentNode,e))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(r){me(o,r),r&&D(e)}}}function Se(l){let e,n=l[14].value+"",o,r,t,s=l[14].mistake+"",i,a,d,p;function L(){return l[12](l[14])}return{c(){e=m("div"),o=N(n),r=b(),t=m("div"),i=N(s),a=b(),_(t,"class","mistake svelte-12tuyl1"),_(e,"class","word svelte-12tuyl1")},m(k,W){j(k,e,W),u(e,o),u(e,r),u(e,t),u(t,i),u(e,a),d||(p=y(e,"click",L),d=!0)},p(k,W){l=k,W&1&&n!==(n=l[14].value+"")&&S(o,n),W&1&&s!==(s=l[14].mistake+"")&&S(i,s)},d(k){k&&D(e),d=!1,p()}}}function Ve(l){let e,n,o=(l[0].editting?"Done":"Edit")+"",r,t,s,i,a,d,p,L,k=(l[0].showNote?"\u{1F441}\uFE0F":"\u{1F576}\uFE0F")+"",W,P,I,E,c,v,A,le,F,ne,T,C,R,re,M,U=(l[0].isSad?"\u{1F622}":"")+"",V,oe,q,X,se,z,G=(l[0].isSad?"":"\u{1F603}")+"",Y,w,Z,ie;const ae=[Re,Qe],O=[];function ue(f,h){return f[0].editting===!0?0:1}i=ue(l),a=O[i]=ae[i](l);let g=l[0].showNote&&Ne(l);return{c(){e=m("div"),n=m("button"),r=N(o),s=b(),a.c(),d=b(),p=m("div"),L=m("div"),W=N(k),P=b(),g&&g.c(),I=b(),E=m("div"),c=m("div"),c.textContent="\u{1F4E4}",v=b(),A=m("input"),le=b(),F=m("button"),F.textContent="Again",ne=b(),T=m("div"),C=m("div"),R=N(l[2]),re=b(),M=m("div"),V=N(U),oe=b(),q=m("div"),X=N(l[1]),se=b(),z=m("div"),Y=N(G),n.disabled=t=!l[0].text.length,_(L,"class","icon"),_(p,"class","level-2 svelte-12tuyl1"),_(c,"class","icon"),_(A,"type","number"),_(E,"class","level-2 svelte-12tuyl1"),_(F,"class","again"),_(M,"class","emoji svelte-12tuyl1"),_(C,"class","block wrong svelte-12tuyl1"),_(z,"class","emoji svelte-12tuyl1"),_(q,"class","block correct svelte-12tuyl1"),_(T,"class","board svelte-12tuyl1"),_(e,"class","level-1 svelte-12tuyl1")},m(f,h){j(f,e,h),u(e,n),u(n,r),u(e,s),O[i].m(e,null),u(e,d),u(e,p),u(p,L),u(L,W),u(p,P),g&&g.m(p,null),u(e,I),u(e,E),u(E,c),u(E,v),u(E,A),H(A,l[0].leadingLetter),u(e,le),u(e,F),u(e,ne),u(e,T),u(T,C),u(C,R),u(C,re),u(C,M),u(M,V),u(T,oe),u(T,q),u(q,X),u(q,se),u(q,z),u(z,Y),w=!0,Z||(ie=[y(window,"keyup",l[4]),y(n,"click",l[5]),y(L,"click",l[11]),y(c,"click",l[7]),y(A,"input",l[13]),y(F,"click",l[6])],Z=!0)},p(f,[h]){(!w||h&1)&&o!==(o=(f[0].editting?"Done":"Edit")+"")&&S(r,o),(!w||h&1&&t!==(t=!f[0].text.length))&&(n.disabled=t);let $=i;i=ue(f),i===$?O[i].p(f,h):(Be(),J(O[$],1,1,()=>{O[$]=null}),Fe(),a=O[i],a?a.p(f,h):(a=O[i]=ae[i](f),a.c()),Q(a,1),a.m(e,d)),(!w||h&1)&&k!==(k=(f[0].showNote?"\u{1F441}\uFE0F":"\u{1F576}\uFE0F")+"")&&S(W,k),f[0].showNote?g?g.p(f,h):(g=Ne(f),g.c(),g.m(p,null)):g&&(g.d(1),g=null),h&1&&ve(A.value)!==f[0].leadingLetter&&H(A,f[0].leadingLetter),(!w||h&4)&&S(R,f[2]),(!w||h&1)&&U!==(U=(f[0].isSad?"\u{1F622}":"")+"")&&S(V,U),(!w||h&2)&&S(X,f[1]),(!w||h&1)&&G!==(G=(f[0].isSad?"":"\u{1F603}")+"")&&S(Y,G)},i(f){w||(Q(a),w=!0)},o(f){J(a),w=!1},d(f){f&&D(e),O[i].d(),g&&g.d(),Z=!1,ge(ie)}}}const Ae=(l,e)=>e.mistake-l.mistake;function Xe(l,e,n){let o,r,t={text:"",words:[],problematicWords:[],editting:!0,showNote:!0,word_index:0,isSad:!1,leadingLetter:0};function s(){n(0,t.words=t.text.replace(/\r?\n/g," ").split(" ").filter(Boolean).map(c=>({value:c,correct:null,blank:!1,mistake:0})),t)}function i(c){if(c.target.id!=="textarea"&&t.words.length>t.word_index){let v=t.words[t.word_index];c.key==="F2"&&(v.correct=!0,n(0,t.word_index+=1,t),n(0,t.isSad=!1,t),c.preventDefault()),c.key==="F4"&&(t.problematicWords.find(A=>A.value===v.value)||n(0,t.problematicWords=[...t.problematicWords,_e(de({},v),{value:v.value.replace(/[,.!?]/g,"")})],t),v.mistake+=1,v.correct=!1,n(0,t.word_index+=1,t),n(0,t.isSad=!0,t),c.preventDefault())}}function a(){n(0,t.editting=!t.editting,t)}function d(){n(0,t.words=t.words.map(c=>({correct:null,value:c.value})),t),n(0,t.word_index=0,t)}function p(){for(let c of t.words)t.problematicWords.some(v=>c.value.startsWith(v.value))&&(c.blank=!c.blank);n(0,t)}function L(c){for(let v of t.words)v.value.startsWith(c.value)&&(v.blank=!v.blank);n(0,t)}function k(){t.text=this.value,n(0,t)}function W(c){t=c,n(0,t)}const P=()=>n(0,t.showNote=!t.showNote,t),I=c=>L(c);function E(){t.leadingLetter=ve(this.value),n(0,t)}return l.$$.update=()=>{l.$$.dirty&1&&n(2,o=t.words.filter(c=>c.correct===!1).length),l.$$.dirty&1&&n(1,r=t.words.filter(c=>c.correct===!0).length)},[t,r,o,s,i,a,d,p,L,k,W,P,I,E]}class Ye extends x{constructor(e){super();ee(this,e,Xe,Ve,te,{})}}function Ze(l){let e,n,o;return n=new Ye({}),{c(){e=m("div"),he(n.$$.fragment),_(e,"class","wrapper svelte-n26dnx")},m(r,t){j(r,e,t),be(n,e,null),o=!0},p:K,i(r){o||(Q(n.$$.fragment,r),o=!0)},o(r){J(n.$$.fragment,r),o=!1},d(r){r&&D(e),ke(n)}}}class $e extends x{constructor(e){super();ee(this,e,null,Ze,te,{})}}new $e({target:document.getElementById("app")});
