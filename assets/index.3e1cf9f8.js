import{S as V,i as X,s as Y,e as u,t as v,a as y,b as a,c as x,d as D,f as c,l as k,g as I,n as B,h as q,r as W,o as Z,j as w,k as $,m as z}from"./vendor.8ee07c1e.js";const ee=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))e(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&e(n)}).observe(document,{childList:!0,subtree:!0});function r(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerpolicy&&(s.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?s.credentials="include":l.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function e(l){if(l.ep)return;l.ep=!0;const s=r(l);fetch(l.href,s)}};ee();function G(o,t,r){const e=o.slice();return e[7]=t[r],e[9]=r,e}function te(o){let t,r=o[0].words,e=[];for(let l=0;l<r.length;l+=1)e[l]=H(G(o,r,l));return{c(){t=u("div");for(let l=0;l<e.length;l+=1)e[l].c();a(t,"class","text svelte-1h2f743")},m(l,s){D(l,t,s);for(let n=0;n<e.length;n+=1)e[n].m(t,null)},p(l,s){if(s&1){r=l[0].words;let n;for(n=0;n<r.length;n+=1){const _=G(l,r,n);e[n]?e[n].p(_,s):(e[n]=H(_),e[n].c(),e[n].m(t,null))}for(;n<e.length;n+=1)e[n].d(1);e.length=r.length}},d(l){l&&q(t),$(e,l)}}}function le(o){let t,r,e;return{c(){t=u("textarea"),a(t,"id","textarea"),a(t,"cols","30"),a(t,"rows","10"),a(t,"class","svelte-1h2f743")},m(l,s){D(l,t,s),z(t,o[0].text),r||(e=[k(t,"keyup",o[1]),k(t,"input",o[5])],r=!0)},p(l,s){s&1&&z(t,l[0].text)},d(l){l&&q(t),r=!1,W(e)}}}function H(o){let t,r=o[7].value+"",e,l;return{c(){t=u("div"),e=v(r),l=y(),a(t,"class","word svelte-1h2f743"),w(t,"current",o[9]===o[0].word_index),w(t,"wrong",o[7].correct===!1),w(t,"correct",o[7].correct===!0)},m(s,n){D(s,t,n),c(t,e),c(t,l)},p(s,n){n&1&&r!==(r=s[7].value+"")&&I(e,r),n&1&&w(t,"current",s[9]===s[0].word_index),n&1&&w(t,"wrong",s[7].correct===!1),n&1&&w(t,"correct",s[7].correct===!0)},d(s){s&&q(t)}}}function re(o){let t,r,e=(o[0].editting?"Done":"Edit")+"",l,s,n,_,h,S,i,b,T,j,L=o[0].words.filter(Q).length+"",F,C,m,g,O,J,A,E=o[0].words.filter(R).length+"",K,M,P;function U(f,p){return f[0].editting===!0?le:te}let N=U(o),d=N(o);return{c(){t=u("div"),r=u("button"),l=v(e),n=y(),d.c(),_=y(),h=u("button"),h.textContent="Again",S=y(),i=u("div"),b=u("div"),T=v(`Teacher
      `),j=u("div"),F=v(L),C=y(),m=u("div"),g=u("img"),J=v(`
      Student
      `),A=u("div"),K=v(E),r.disabled=s=!o[0].text.length,a(r,"class","svelte-1h2f743"),a(h,"class","again svelte-1h2f743"),a(j,"class","score svelte-1h2f743"),a(b,"class","teacher svelte-1h2f743"),x(g.src,O="/"+o[0].emoji+".png")||a(g,"src",O),a(g,"alt",""),a(g,"class","svelte-1h2f743"),a(A,"class","score svelte-1h2f743"),a(m,"class","student svelte-1h2f743"),a(i,"class","users svelte-1h2f743"),a(t,"class","wrapper svelte-1h2f743")},m(f,p){D(f,t,p),c(t,r),c(r,l),c(t,n),d.m(t,null),c(t,_),c(t,h),c(t,S),c(t,i),c(i,b),c(b,T),c(b,j),c(j,F),c(i,C),c(i,m),c(m,g),c(m,J),c(m,A),c(A,K),M||(P=[k(window,"keyup",o[2]),k(r,"click",o[3]),k(h,"click",o[4])],M=!0)},p(f,[p]){p&1&&e!==(e=(f[0].editting?"Done":"Edit")+"")&&I(l,e),p&1&&s!==(s=!f[0].text.length)&&(r.disabled=s),N===(N=U(f))&&d?d.p(f,p):(d.d(1),d=N(f),d&&(d.c(),d.m(t,_))),p&1&&L!==(L=f[0].words.filter(Q).length+"")&&I(F,L),p&1&&!x(g.src,O="/"+f[0].emoji+".png")&&a(g,"src",O),p&1&&E!==(E=f[0].words.filter(R).length+"")&&I(K,E)},i:B,o:B,d(f){f&&q(t),d.d(),M=!1,W(P)}}}const Q=o=>o.correct===!1,R=o=>o.correct===!0;function se(o,t,r){let e={text:"",words:[],editting:!0,word_index:0,emoji:"smile"};function l(){localStorage.setItem("state",JSON.stringify(e))}function s(){r(0,e.words=e.text.replace(/\r?\n/g," ").split(" ").map(i=>({value:i,correct:null})),e),l()}function n(i){i.target.id!=="textarea"&&e.words.length>e.word_index&&(i.key==="F2"&&(r(0,e.words[e.word_index].correct=!0,e),r(0,e.word_index+=1,e),r(0,e.emoji="smile",e),l(),i.preventDefault()),i.key==="F4"&&(r(0,e.words[e.word_index].correct=!1,e),r(0,e.word_index+=1,e),r(0,e.emoji="cry",e),l(),i.preventDefault()))}function _(){r(0,e.editting=!e.editting,e),l()}function h(){r(0,e.words=e.words.map(i=>({correct:null,value:i.value})),e),r(0,e.word_index=0,e),l()}Z(()=>{let i=JSON.parse(localStorage.getItem("state"));i&&r(0,e=i)});function S(){e.text=this.value,r(0,e)}return[e,s,n,_,h,S]}class oe extends V{constructor(t){super();X(this,t,se,re,Y,{})}}new oe({target:document.getElementById("app")});
